{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Mejorada</title>
</head>
<body>
    <main>
        <section>
            <header>Mi primera app con Django</header>
            <form method="post">
                {% csrf_token %}
                <fieldset>
                    <legend>Calculadora Mejorada</legend>
                    {% if not cantidad %}
                        <label for="cantidad">¿Cuántos números quieres ingresar?</label>
                        <input type="number" name="cantidad" id="cantidad" min="1" required>
                    {% else %}
                        <input type="hidden" name="cantidad" value="{{ cantidad }}">
                        
                        {% if rango %}
                            <p>Ingresa {{ cantidad }} números:</p>
                            {% for i in rango %}
                                <label for="numero_{{ i }}">Número {{ i }}:</label>
                                <input type="number" name="numero_{{ i }}" required>
                            {% endfor %}
                        {% endif %}
                        <label for="operacion">Operación:</label>
                        <select name="operacion" id="operacion">
                            <option value="suma">Suma</option>
                            <option value="resta">Resta</option>
                            <option value="multiplicacion">Multiplicación</option>
                            <option value="division">División</option>
                        </select>
                    {% endif %}
                </fieldset>
                <button type="submit">Calcular</button>
            </form>
            {% if resultado is not None %}
                <h2>Resultado: {{ resultado }}</h2>
            {% endif %}
            {% if error %}
                <p style="color: red;">{{ error }}</p>
            {% endif %}
        </section>
    </main>
</body>
</html>

